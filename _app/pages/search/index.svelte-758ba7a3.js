import{S as se,i as re,s as ae,e as y,c as v,a as w,d as f,b as d,g as N,Y as ne,q as x,r as V,p as L,k as j,t as B,T as ie,m as A,h as H,I as m,Z as F,K as X,O as oe,w as ce,V as fe,j as Q,Q as Y,_ as G,o as ee,$ as ue,R as te,n as le}from"../../chunks/index-766d7c0f.js";import{b as he}from"../../chunks/paths-396f020f.js";import{a as U}from"../../chunks/index-9ed8ee78.js";const{document:O}=fe;function J(o,e,t){const s=o.slice();return s[10]=e[t],s}function de(o){let e;return{c(){e=y("i"),this.h()},l(t){e=v(t,"I",{class:!0}),w(e).forEach(f),this.h()},h(){d(e,"class","fa fa-search")},m(t,s){N(t,e,s)},d(t){t&&f(e)}}}function _e(o){let e;return{c(){e=y("i"),this.h()},l(t){e=v(t,"I",{class:!0}),w(e).forEach(f),this.h()},h(){d(e,"class","fa fa-spinner fa-spin")},m(t,s){N(t,e,s)},d(t){t&&f(e)}}}function me(o){let e,t,s;return{c(){e=y("h2"),t=B(o[4]),this.h()},l(l){e=v(l,"H2",{id:!0});var n=w(e);t=H(n,o[4]),n.forEach(f),this.h()},h(){d(e,"id","summary")},m(l,n){N(l,e,n),m(e,t)},p(l,n){n&16&&Q(t,l[4])},i(l){s||Y(()=>{s=te(e,U,{}),s.start()})},o:le,d(l){l&&f(e)}}}function pe(o){let e,t,s;return{c(){e=y("h2"),t=B(o[3]),this.h()},l(l){e=v(l,"H2",{id:!0});var n=w(e);t=H(n,o[3]),n.forEach(f),this.h()},h(){d(e,"id","error")},m(l,n){N(l,e,n),m(e,t)},p(l,n){n&8&&Q(t,l[3])},i(l){s||Y(()=>{s=te(e,U,{}),s.start()})},o:le,d(l){l&&f(e)}}}function W(o){let e,t=[],s=new Map,l,n=o[2];const h=i=>i[10].name;for(let i=0;i<n.length;i+=1){let r=J(o,n,i),a=h(r);s.set(a,t[i]=$(a,r))}return{c(){e=y("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=v(i,"DIV",{class:!0});var r=w(e);for(let a=0;a<t.length;a+=1)t[a].l(r);r.forEach(f),this.h()},h(){d(e,"class","results svelte-19f4pkc")},m(i,r){N(i,e,r);for(let a=0;a<t.length;a+=1)t[a].m(e,null);l=!0},p(i,r){r&4&&(n=i[2],ee(),t=ne(t,r,h,1,i,n,s,e,ue,$,null,J),x())},i(i){if(!l){for(let r=0;r<n.length;r+=1)V(t[r]);l=!0}},o(i){for(let r=0;r<t.length;r+=1)L(t[r]);l=!1},d(i){i&&f(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function ke(o){let e,t;return{c(){e=y("pre"),t=B("X"),this.h()},l(s){e=v(s,"PRE",{class:!0});var l=w(e);t=H(l,"X"),l.forEach(f),this.h()},h(){d(e,"class","red-ex svelte-19f4pkc")},m(s,l){N(s,e,l),m(e,t)},d(s){s&&f(e)}}}function be(o){let e,t;return{c(){e=y("pre"),t=B("\u2713"),this.h()},l(s){e=v(s,"PRE",{class:!0});var l=w(e);t=H(l,"\u2713"),l.forEach(f),this.h()},h(){d(e,"class","green-check svelte-19f4pkc")},m(s,l){N(s,e,l),m(e,t)},d(s){s&&f(e)}}}function $(o,e){let t,s,l,n,h=(e[10].hasResource?e[10].name+" ("+e[10].quantity+")":e[10].name)+"",i,r,a,T;function g(u,b){return u[10].hasResource?be:ke}let q=g(e),p=q(e);return{key:o,first:null,c(){t=y("tr"),s=y("td"),p.c(),l=j(),n=y("td"),i=B(h),r=j(),this.h()},l(u){t=v(u,"TR",{});var b=w(t);s=v(b,"TD",{});var S=w(s);p.l(S),S.forEach(f),l=A(b),n=v(b,"TD",{});var I=w(n);i=H(I,h),I.forEach(f),r=A(b),b.forEach(f),this.h()},h(){this.first=t},m(u,b){N(u,t,b),m(t,s),p.m(s,null),m(t,l),m(t,n),m(n,i),m(t,r),T=!0},p(u,b){e=u,q!==(q=g(e))&&(p.d(1),p=q(e),p&&(p.c(),p.m(s,null))),(!T||b&4)&&h!==(h=(e[10].hasResource?e[10].name+" ("+e[10].quantity+")":e[10].name)+"")&&Q(i,h)},i(u){T||(u&&Y(()=>{a||(a=G(t,U,{delay:e[10].delay},!0)),a.run(1)}),T=!0)},o(u){u&&(a||(a=G(t,U,{delay:e[10].delay},!1)),a.run(0)),T=!1},d(u){u&&f(t),p.d(),u&&a&&a.end()}}}function ye(o){let e,t,s,l,n,h,i,r,a,T,g,q,p,u,b,S;function I(c,E){return c[0]?_e:de}let M=I(o),R=M(o);function P(c,E){if(c[3])return pe;if(c[4])return me}let C=P(o),k=C&&C(o),_=o[2]&&W(o);return{c(){e=y("meta"),t=y("link"),s=j(),l=y("div"),n=y("h1"),h=B("Search"),i=j(),r=y("div"),a=y("input"),T=j(),g=y("button"),R.c(),q=j(),k&&k.c(),p=j(),_&&_.c(),this.h()},l(c){const E=ie('[data-svelte="svelte-amqwm"]',O.head);e=v(E,"META",{name:!0,content:!0}),t=v(E,"LINK",{rel:!0,href:!0}),E.forEach(f),s=A(c),l=v(c,"DIV",{class:!0});var D=w(l);n=v(D,"H1",{});var Z=w(n);h=H(Z,"Search"),Z.forEach(f),i=A(D),r=v(D,"DIV",{class:!0});var K=w(r);a=v(K,"INPUT",{id:!0,name:!0,"aria-label":!0,placeholder:!0,inputmode:!0,class:!0}),T=A(K),g=v(K,"BUTTON",{id:!0,class:!0});var z=w(g);R.l(z),z.forEach(f),K.forEach(f),q=A(D),k&&k.l(D),p=A(D),_&&_.l(D),D.forEach(f),this.h()},h(){O.title="Search",d(e,"name","description"),d(e,"content","Search an address for Cardania resources"),d(t,"rel","stylesheet"),d(t,"href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"),d(a,"id","address"),d(a,"name","address"),d(a,"aria-label","Address"),d(a,"placeholder","Enter Address"),d(a,"inputmode","search"),d(a,"class","svelte-19f4pkc"),g.disabled=o[0],d(g,"id","search"),d(g,"class","svelte-19f4pkc"),d(r,"class","search-control svelte-19f4pkc"),d(l,"class","container svelte-19f4pkc")},m(c,E){m(O.head,e),m(O.head,t),N(c,s,E),N(c,l,E),m(l,n),m(n,h),m(l,i),m(l,r),m(r,a),F(a,o[1]),m(r,T),m(r,g),R.m(g,null),m(l,q),k&&k.m(l,null),m(l,p),_&&_.m(l,null),u=!0,b||(S=[X(a,"input",o[7]),X(a,"keypress",o[6]),X(g,"click",o[5])],b=!0)},p(c,[E]){E&2&&a.value!==c[1]&&F(a,c[1]),M!==(M=I(c))&&(R.d(1),R=M(c),R&&(R.c(),R.m(g,null))),(!u||E&1)&&(g.disabled=c[0]),C===(C=P(c))&&k?k.p(c,E):(k&&k.d(1),k=C&&C(c),k&&(k.c(),V(k,1),k.m(l,p))),c[2]?_?(_.p(c,E),E&4&&V(_,1)):(_=W(c),_.c(),V(_,1),_.m(l,null)):_&&(ee(),L(_,1,1,()=>{_=null}),x())},i(c){u||(V(k),V(_),u=!0)},o(c){L(_),u=!1},d(c){f(e),f(t),c&&f(s),c&&f(l),R.d(),k&&k.d(),_&&_.d(),b=!1,oe(S)}}}function ve(o,e,t){let s=[],l=!1,n="",h=[],i="",r="";ce(()=>{document.getElementsByTagName("body")[0].style.overflow="auto"});async function a(){var u,b;t(2,h=[]),t(0,l=!0),s!=null&&s.length||await T();const p=await fetch("https://pool.pm/wallet/"+n);if(t(0,l=!1),t(2,h=(b=(u=await p.json())==null?void 0:u.tokens)==null?void 0:b.filter(S=>S.policy=="650296faadaccf9bb9852678ce0e881c5c09f1a6da9cb7531b3c23bb")),!(h!=null&&h.length))t(3,i="No Cardania Resources found!");else{t(3,i=""),t(2,h=s.map((I,M)=>{var R,P;return{name:I,hasResource:h.some(C=>C.name===I),quantity:(P=(R=h.filter(C=>C.name===I)[0])==null?void 0:R.quantity)!=null?P:"",delay:(M+1)*50}}));let S=h.filter(I=>!I.hasResource).length;S?t(4,r=`Missing ${S} Cardania Resources!`):t(4,r="No Cardania Resources missing!")}}async function T(){var u;s=(u=await(await fetch(he+"/resources.txt")).text())==null?void 0:u.split(","),s!=null&&s.length?t(3,i=""):t(3,i="Could not load all resources!")}async function g(p){p.key==="Enter"&&(document.getElementById("address").blur(),await a())}function q(){n=this.value,t(1,n)}return[l,n,h,i,r,a,g,q]}class Re extends se{constructor(e){super(),re(this,e,ve,ye,ae,{})}}export{Re as default};
